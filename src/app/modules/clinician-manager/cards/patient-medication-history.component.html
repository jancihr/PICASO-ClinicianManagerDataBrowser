<div class="card w3-light-gray">

  <div class="card-header w3-blue  w3-center">


    <div class="w3-center" i18n="Patient Medication History"><i class="fa fa-medkit"> </i>
      Patient Medication History

      <span class="w3-right">

      <span *ngIf="(progress.percentage < 100)">

        <span class="fa fa-spinner w3-spin" style="font-size:20px"></span>

        loading: {{progress.percentage}}% |
      loaded: {{progress.total}} bytes

      </span>
      </span>

    </div>
  </div>

  <div class="card-block">

    <div class="col-xs-12 col-sm-12 col-md-{{selectedMedication?'6':12}}
    col-lg-{{selectedMedication?'6':12}} col-xl-{{selectedMedication?'8':12}}">
      <div [visTimeline]="visTimelineMedications"
           [visTimelineItems]="visTimelineItemsMedications"
           [visTimelineOptions]="visTimelineMedicationsOptions"
           (initialized)="timelineInitialized()">
      </div>
    </div>

    <div *ngIf="selectedMedication"
         class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-4 detail-view">
      <div class="w3-border-bottom">
        Selected Medication details
        <button class="w3-right" (click)="close()"><i class="fa fa-close"></i></button>
      </div>
      <div class="{{animateToggle?'myanimation1':'myanimation2'}} ">

        <samp>
          <div>{{selectedMedication.name}}</div>
          <div *ngIf="selectedMedication.disease">Disease: {{selectedMedication.disease}}</div>
          <div *ngIf="selectedMedication.prescribedBy">Prescribed by: {{selectedMedication.prescribedBy}}</div>
          <div *ngIf="selectedMedication.dosage">Dosage: {{selectedMedication.dosage}}</div>
          <div *ngIf="selectedMedication.frequency">Frequency: {{selectedMedication.frequency}}</div>
          <div *ngIf="selectedMedication.stopReason">Stop Reason: {{selectedMedication.stopReason}}</div>
          <div *ngIf="selectedMedication.startDate && selectedMedication.type==='prescription'">From:
            {{selectedMedication.startDate| date:'d.M.y'}}
          </div>
          <div *ngIf="selectedMedication.startDate && selectedMedication.type==='intake'">Time:
            {{selectedMedication.startDate| date:'d.M.y'}}
          </div>
          <div *ngIf="selectedMedication.endDate">To: {{selectedMedication.endDate| date:'d.M.y'}}</div>

        </samp>
      </div>

    </div>

  </div>

  <div class="card-footer">
    <div class="w3-tiny w3-right">Scroll the timeline draging it with mouse. Zoom using Alt key + mouse scroll. Click
      chosen medication to view it's detail
    </div>
  </div>

</div>

<div class="card">
  <div *ngIf="headerText" class="card-header w3-blue  w3-center">

    <div i18n="Average daily observations"><i class="fa fa-heartbeat"></i> {{headerText}}</div>
    <div class="w3-right">

      <div *ngIf="(progress.percentage < 100)"> loading: {{progress.percentage}}%</div>
      <div *ngIf="(progress.percentage < 100)"> loaded: {{progress.total}} bytes</div>
    </div>
  </div>
  <div class="card-block" style="overflow-x: auto;">

    <div class="row">
      <div class="w3-center">

        <button *ngIf="observationGroups && observationGroups.length!==1" type="button"
                class="btn btn-default"
                (click)="clearAll()">
          <span>  <i class="fa fa-circle-o"></i> </span>
          Clear graph
          <span>
          </span>
        </button>

        <button type="button"
                class="btn btn-default"
                (click)="resetMinMidMax()">
          <span>  <i class="fa {{showMinMidMax?'fa-circle':'fa-circle-o'}}"></i> </span>
          min/mid/max lines
          <span>
          </span>
        </button>

        <span *ngIf="observationGroups && observationGroups.length!==1">
        <span *ngFor="let group of observationGroups">

          <span style="white-space: nowrap">

            <button type="button" class="btn btn-default"
                    (click)="toggleLeft(group.id, group.name)"> {{group.name}}</button>

            <button
              type="button"
              class="btn btn-default"
              (click)="toggleLeft(group.id, group.name)">
              <span [style.color]="group.color">
                                <i class="fa {{group.showLeft?'fa-circle':'fa-circle-o'}}"></i>
                            </span>
              L
            </button>

           <button
             type="button"
             class="btn btn-default"
             (click)="toggleRight(group.id, group.name)">
              <span [style.color]="group.color">
                                <i class="fa {{group.showRight?'fa-circle':'fa-circle-o'}}"></i>
                            </span>
              R
            </button>
        </span>
        </span>

        </span>

      </div>
    </div>


    <div class="row">

      <nvd3 *ngIf="observationGroups" [options]="options" [data]="data" class="with-transitions row-content"></nvd3>

    </div>


  </div>


  <div *ngIf="footerText" class="card-footer w3-white">
    <div class="w3-tiny w3-right w3-full">{{footerText}}


    </div>
  </div>

</div>
